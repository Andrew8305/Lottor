spring:
  profiles:
    active: dev
  datasource:
      driver-class-name: com.mysql.jdbc.Driver
      url: jdbc:mysql://192.168.1.204:3306/auth_tmp?useUnicode=true&characterEncoding=utf8&useSSL=false
      username: simu
      password: simu123
      schema[0]: classpath:/auth.sql
      initialize: false
  application:
      name: auth-service
  cloud:
    consul:
      host: 120.55.43.136
#      host: ${CONSUL_ADDRESS:192.168.1.204}
      port: 8501
      discovery:
        ip-address: ${HOST_ADDRESS:120.55.43.136}
        port: ${SERVER_PORT:${server.port}}
#        healthCheckPath: /health
        healthCheckInterval: 15s
        instance-id: auth-service-${server.port}
        service-name: auth-service

server:
  port: 8007

management:
  health:
    defaults:
      enabled: false
  endpoint:
    shutdown:
      enabled: false
  security:
    enabled: false

logging:
  level:
    root: info
    com.blueskykong.lottor.core: debug
  path: "./logs"

---
spring:
  cloud:
    stream:
      bindings:
        test-input:
          group: testGroup
          content-type: application/x-java-object;type=com.blueskykong.lottor.common.entity.TransactionMsgAdapter
          destination: tx-auth
          binder: rabbit1
      binders:
        rabbit1:
          type: rabbit
          environment:
            spring:
              rabbitmq:
                host: 120.55.43.136
                port: 5672
                username: guest
                password: guest
                virtual-host: /

---
tx:
  enabled: true
  core:
    compensation-cache-type: redis
    tx-redis-config:
      host-name: 120.55.43.136
      port: 6379
      password: __@picker-redis
    serializer: kryo
    netty-serializer: kryo
    blocking-queue-type: Linked
    compensation: true
    tx-manager-id: lottor